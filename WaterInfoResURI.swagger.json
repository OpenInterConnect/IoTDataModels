{
  "swagger": "2.0",
  "info": {
      "title": "Water Info",
      "version": "2019-06-13",
      "license": {
          "name": "OCF Date Model License",
          "url":  "https://github.com/openconnectivityfoundation/core/blob/e28a9e0a92e17042ba3e83661e4c0fbce8bdc4ba/LICENSE.md",
          "x-copyright": "Copyright 2019 Open Connectivity Foundation, Inc. All rights reserved."
      },
  "termsOfService": "https://openconnectivityfoundation.github.io/core/DISCLAIMER.md"
  },
  "schemes": ["http"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "paths": {
      "/WaterInfoResURI":{
          "get": {
              "description": "This Resource describes the water information to indicate type of water currently provided by the device. The water type can be read or set.\nThe Property \"supportedwatertypes\" is an array of the possible water types are defined by the enumeration [\"cold\", \"hot\", \"ambient\", \"ice\"].\nThe Property \"supportedadditivetypes\" is an array of the possible additive types for water. The additive types mean optional types that can be added to the specific water type according to Client's preference and are defined by the enumeration [\"none\", \"soda\", \"mineral\"]. If absent, the default value is \"none\". \nThe Property \"currentwatertype\" is the currently desired water type. \nThe Property \"currentadditivetypes\" is the currently desired additive type(s). \nFor example, if \"cold\" is selected with the \"currentwatertype\", \"soda\" and \"mineral\" or both can be selected as \"currentadditivetypes\". Note that if \"hot\" is selected with the \"currentwatertype\", \"soda\" and \"mineral\" may be restricted for the \"currentadditivetypes\".", 
              
              "parameters": [
                   {"$ref": "#/parameters/interface"}
              ],
              "responses": {
                  "200": {
                      "description" : "RETRIEVES the set of supported water type information and current desired water type information.",
                      "x-example":
                      {
                          "rt": ["oic.r.waterinfo"],
                          "if": ["oic.if.rw", "oic.if.baseline"],
                          "supportedwatertypes": ["cold", "hot", "ambient", "ice"],
                          "supportedadditivetypes": ["none", "soda", "mineral"],
                          "currentwatertype":  "cold",
                          "currentadditivetypes": ["soda", "mineral"]
                         
                      },
                      "schema": {"$ref": "#/definitions/WaterInfo" }
                  }
              }
          },
          "post":{
              "description": "Sets the desired water type.",
              "parameters": [
                   {"$ref": "#/parameters/interface"},
                   {
                       "name": "body",
                       "in": "body",
                       "required": true,
                       "schema": { "$ref": "#/definitions/WaterInfoUpdate" },
                       "x-example": {
                        "currentwatertype": "hot",
                        "currentadditivetypes": ["none"]
                       }
                   }
              ],
              "responses":{
                  "200": {
                      "description" : "Indicates that the current desired water type and additive type(s) were changed. \nThe new desired water type info is provided in the response.\n",
                      "x-example": {
                       "currentwatertype": "hot",
                       "currentadditivetypes": ["none"]
                      },
                      "schema": { "$ref": "#/definitions/WaterInfoUpdate" }
                  },
                  "403":{
                      "description" : "This response is generated by the OCF Server when the client sends:\n  An UPDATE with an invalid property value for \"currentwatertype\".\nThe OCF Server responds with the current resource representation.\n",
                      "x-example": {
                          "supportedwatertypes": ["cold", "hot", "ambient", "ice"],
                          "supportedadditivetypes": ["none", "soda", "mineral"],
                          "currentwatertype": "cold",
                          "currentadditivetypes": ["soda", "mineral"]
                      },
                     "schema": { "$ref": "#/definitions/WaterInfo" }
                  }
              }
          }
       }
    },
      "parameters": {
          "interface": {
              "in": "query",
              "name": "if",
              "type": "string",
              "enum": ["oic.if.rw", "oic.if.baseline"]
          }
      },
      "definitions": {
          "WaterInfo" : {
              "properties": {
                  "rt": {
                      "description": "The Resource Type.",
                      "items": {
                          "enum": ["oic.r.waterinfo"],
                          "maxLength": 64,
                          "type": "string"
                      },
                      "minItems": 1,
                      "uniqueItems": true,
                      "readOnly": true,
                      "type": "array"
                  },
                  "supportedwatertypes":{
                      "description": "The array of the possible water types.",
                      "items": {
                          "type": "string"
                      },
                      "readOnly": true,
                      "type": "array"
                  },
                  "supportedadditivetypes":{
                      "description": "The array of the possible additive types.",
                      "items": {
                          "type": "string"
                      },
                      "readOnly": true,
                      "type": "array"
                  },
                  "currentwatertype": {
                      "description": " The currently desired water type.",
                      "type": "string"
                  },
                   "currentadditivetypes":{
                      "description": "The currently desired additive type(s) according to Client's preference.",
                      "items": {
                          "type": "string"
                      }, 
                      "minItems": 1,
                      "type": "array"
                  },
                  "n": {
                      "$ref": "https://openconnectivityfoundation.github.io/core/schemas/oic.common.properties.core-schema.json#/definitions/n"
                  },
                  "id": {
                      "$ref": "https://openconnectivityfoundation.github.io/core/schemas/oic.common.properties.core-schema.json#/definitions/id"
                  },
                  "if": {
                      "description": "The OCF Interface set supported by this Resource.",
                      "items": {
                          "enum": [
                              "oic.if.rw",
                              "oic.if.baseline"
                              ],
                              "type": "string"
                             },
                              "minItems": 2,
                              "uniqueItems": true,
                              "readOnly": true,
                              "type": "array"
                      }
                  },
                  "type": "object",
                  "required" : ["supportedwatertypes", "currentwatertype"]
          },
           "WaterInfoUpdate":{
               "properties":{
                   "currentwatertype": {
                       "description": "Set the desired water type.",
                       "type": "string"
                   },
                   "currentadditivetypes": {
                       "description": "Set the desired additive type(s).",
                       "items": {
                              "type": "string"
                             },
                              "minItems": 1,
                              "type": "array"
                      }
               },
               "type": "object",
               "required": ["currentwatertype"]
            
           }
        }   
}
  

