{
  "swagger": "2.0",
  "info": {
    "title": "Vendor List",
    "version": "2021-05-20",
    "license": {
      "name": "OCF Data Model License",
      "url": "https://github.com/openconnectivityfoundation/core/blob/e28a9e0a92e17042ba3e83661e4c0fbce8bdc4ba/LICENSE.md",
      "x-copyright": "copyright 2021 Open Connectivity Foundation, Inc. All rights reserved."
    },
    "termsOfService": "https://openconnectivityfoundation.github.io/core/DISCLAIMER.md"
  },
  "schemes": ["http"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "paths": {
    "/VendorListResURI": {
      "get": {
        "description": "This Resource describes the current vendor and supported vendors for an OCF Device (e.g. the set of possible A/C vendors to which an A/C Assistant can connect).\nThe current vendor can be read or set, setting indicates a desired vendor.\nA device may reject an attempt to set a vendor that is not found in supported vendors.\nThe Property \"supportedVendors\" is an array of the possible vendor names.\nThe value of \"supportedVendors\" is Device specific.\nThe Property \"currentVendor\" is one vendor selected from \"supportedVendors\".\nThe Property \"status\" is current operation status when the \"currentVendor\" is set. ",
        "parameters": [
          {"$ref": "#/parameters/interface"}
        ],
        "responses": {
          "200": {
            "description" : "RETRIEVES the information for vendorList Resource.",
            "x-example": {
              "rt": ["oic.r.vendorlist"],
              "if": ["oic.if.rw", "oic.if.baseline"],
              "supportedVendors": ["none","haier", "gree", "tcl", "lg"],
              "currentVendor": "lg",
              "status": "vendorset"
            },
            "schema": { "$ref": "#/definitions/VendorList" }
          }
        }
      },
      "post": {
        "description": "changes the vendorList.",
        "parameters": [
          {"$ref": "#/parameters/interface"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/VendorListUpdate" },
            "x-example": {
              "currentVendor": "lg"
            }
          }
        ],
        "responses": {
          "200": {
            "description" : "Gives the information for the new currentVendor value ",
            "x-example": {
              "currentVendor": "lg",
              "status":"failed"
    
            },
            "schema": { "$ref": "#/definitions/VendorListUpdate" }
          },
          "403": {
            "description" : "This response is generated by the OCF Server when the client sends:\n  An UPDATE with an value for \"currentVendor\" that is not found in\"supportedvendors\" .\n The server may respond with the current resource representation.", 
            "x-example": {
              "supportedVendors": ["none","haier", "gree", "tcl", "lg"],
              "currentVendor": "lg",
              "status":"failed"
            },
            "schema": { "$ref": "#/definitions/VendorListUpdate" }
          }
        }
      }
    }
  },
  "parameters": {
    "interface": {
      "in": "query",
      "name": "if",
      "type": "string",
      "enum": ["oic.if.rw", "oic.if.baseline"]
    }
  },
  "definitions": {
    "VendorList" : {
      "properties": {
        "rt": {
          "description": "The Resource Type.",
          "items": {
            "enum": ["oic.r.vendorlist"],
            "maxLength": 64,
            "type": "string"
          },
          "minItems": 1,
          "uniqueItems": true,
          "readOnly": true,
          "type": "array"
        },
        "currentVendor": {
          "description": "The current Vendor selected from \"supportedVendors\".",
          "type": "string"
        },
        "supportedVendors": {
          "description": "The array of the possible vendors.",
          "items": {
            "type": "string"
          },
          "readOnly": true,
          "type": "array"
        },
        "status": {
        "description": "Current operation status based on the selected current Vendor.\n novendor:this is the state when the selected vendor is none. \n processing:this is the state when a vendor is selected and the device automatically moves to this state.\n venderset:this is the state when the vendor has been set and the processing that took place has been successful.\n failed:this is the state when the vendor has been set and the processing that took place was failed. The only way to come out of this state is to UPDATE \"currentvendor\" with a new vendor. The \"status\" is only writable when the \"status\" is processing and from that state can be set to either \"failed\" if the user determines previous processing failed, or to \"vendorset\" if the user determines that previous processing was successful. ",
        "enum": ["novendor","processing","venderset","failed"],
        "type": "string"
        },
        "n": {
            "$ref": "https://openconnectivityfoundation.github.io/core/schemas/oic.common.properties.core-schema.json#/definitions/n"
        },
        "id": {
            "$ref": "https://openconnectivityfoundation.github.io/core/schemas/oic.common.properties.core-schema.json#/definitions/id"
        },
        "if": {
          "description": "The OCF Interface set supported by this Resource.",
          "items": {
            "enum": [
              "oic.if.rw",
              "oic.if.baseline"
            ],
            "type": "string"
          },
          "minItems": 2,
          "uniqueItems": true,
          "readOnly": true,
          "type": "array"
        }
      },
      "type": "object",
      "required": ["currentVendor","supportedVendors","status"]
    },
    "VendorListUpdate" : {
      "title":"update currentVendor ",
      "type": "object",
      "properties": {
         "currentVendor": {
          "description": "The current vendor selected from \"supportedVendors\".",
          "type": "string"
        },
         "status": {
          "description": "The current operation status. Only when the \"status\" is \"processing\", it is writable and it only can be set to \"failed\" or \"venderset\". The device should reject an attempt to set the \"status\" to values other than \"failed\" and \"venderset\".And the device should reject any attempt to update the \"status\" when the \"status\" is not \"processing\".",
          "type": "string"
        }
      }
     }
    }
  }