{
  "swagger": "2.0",
  "info": {
    "title": "Air Flow",
    "version": "20190215",
    "license": {
      "name": "OCF Data Model License",
      "url": "https://github.com/openconnectivityfoundation/core/blob/e28a9e0a92e17042ba3e83661e4c0fbce8bdc4ba/LICENSE.md",
      "x-copyright": "copyright 2016-2017, 2019 Open Connectivity Foundation, Inc. All rights reserved."
    },
    "termsOfService": "https://openconnectivityfoundation.github.io/core/DISCLAIMER.md"
  },
  "schemes": ["http"],
  "consumes": ["application/json"],
  "produces": ["application/json"],
  "paths": {
    "/AirFlowResURI" : {
      "get": {
        "description": "This Resource describes Properties associated with air flow.\nThe Property \"supporteddirections\" is the set of valid values for the direction property for a particular instance of this Resource Type.\nThe Property \"direction\" is the directionality of the air flow if applicable, if Property \"supporteddirections\" is also present it must be a value from that set.\n The values of Property \"direction\" are dependent on the capabilities of the unit.\nThe Property \"speed\" is an integer representing the current speed level for the unit.\nThe Property \"range\" is an array of the min,max values for the speed level. If not present the \"range\" defaults to [0,100].\n Property \"automode\" is the status of the automode feature; Off means automode is not enabled, On means automode is active and the speed is automatically controlled by the Device.",
        "parameters": [
          {"$ref": "#/parameters/interface"}
        ],
        "responses": {
            "200": {
              "description" : "",
              "x-example":
                {
                  "rt": ["oic.r.airflow"],
                  "if": ["oic.if.a", "oic.if.baseline"],
                  "supporteddirections": ["left", "right", "centre"],
                  "direction": "left",
                  "speed": 5,
                  "range": [1, 7],
                  "automode": "Off"
                },
              "schema": { "$ref": "#/definitions/AirFlow" }
            }
        }
      },
      "post": {
        "description": "When \"automode\" is set to true, \"direction\" and \"speed\" are not utilized by the device.",
        "parameters": [
          {"$ref": "#/parameters/interface"},
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": { "$ref": "#/definitions/AirFlow" },
            "x-example":
              {
                "direction": "right",
                "speed": 3
              }
          }
        ],
        "responses": {
            "200": {
              "description" : "",
              "x-example":
                {
                  "direction": "right",
                  "speed": 3
                },
              "schema": {"$ref": "#/definitions/AirFlow" }
            },
            "403": {
              "description": "This response is generated by the OCF Server when the client sends:\n  An UPDATE with an invalid Property value for direction.\n  An UPDATE with an out of range property value for speed.\nThe server may respond with the current resource representation.\n",
              "x-example":
                {
                  "supporteddirections": ["left", "right", "centre"],
                  "direction": "right",
                  "speed": 3
                },
              "schema": { "$ref": "#/definitions/AirFlow" }
            }
        }
      }
    }
  },
  "parameters": {
    "interface" : {
      "in": "query",
      "name": "if",
      "type": "string",
      "enum": ["oic.if.a", "oic.if.baseline"]
    }
  },
  "definitions": {
    "AirFlow" : {
      "properties": {
        "rt" : {
          "description": "The Resource Type",
          "items": {
              "enum": ["oic.r.airflow"],
              "maxLength": 64,
              "type": "string"
          },
          "minItems": 1,
          "uniqueItems": true,
          "readOnly": true,
          "type": "array"
        },
        "speed" : {
          "description": "The current speed level.",
          "type": "integer"
        },
        "direction" : {
          "description": "The directionality of the air flow, a value indicated by \"supporteddirections\".",
          "type": "string"
        },
        "automode" : {
          "description": "The status of the automode feature, if on speed is set by the Device.",
          "enum": [
            "On",
            "Off"
          ],
          "type": "string"
        },
        "supporteddirections" : {
          "description": "The array of possible direction settings for this instance of the Resource Type.",
          "items": {
            "minItems": 1,
            "type": "string",
            "uniqueItems": true
          },
          "readOnly": true,
          "type": "array"
        },
        "n": {
          "$ref": "https://openconnectivityfoundation.github.io/core/schemas/oic.common.properties.core-schema.json#/definitions/n"
        },
        "id": {
          "$ref": "https://openconnectivityfoundation.github.io/core/schemas/oic.common.properties.core-schema.json#/definitions/id"
        },
        "range":  {
          "$ref": "https://openconnectivityfoundation.github.io/IoTDataModels/schemas/oic.baseresource.properties-schema.json#/definitions/range_integer"
        },
        "step": {
          "$ref": "https://openconnectivityfoundation.github.io/IoTDataModels/schemas/oic.baseresource.properties-schema.json#/definitions/step_integer"
        },
        "if": {
          "description": "The OCF Interface set supported by this Resource.",
          "items": {
            "enum": [
              "oic.if.a",
              "oic.if.baseline"
            ],
            "type": "string"
          },
          "minItems": 2,
          "uniqueItems": true,
          "readOnly": true,
          "type": "array"
        }
      },
      "type": "object",
      "required": ["speed"]
    }
  }
}
